These files implement a translator for the Tscript language. Tscript
is a subset of ECMAScript 5.1 defined at UNH for use in the Compiler
Design course (CS712/CS812). The translator is implemented in Java
and uses the ANTLR (version 4) parser generator. The translator
generates and executes Java bytecode using Javassist.

The Tscript translator is known as "ts".

This initial version of the translator only supports the following
features:
  "var" statement
    but only declares a single identifier and without initialization
  expression statement
  print statement (syntax is: console.log(SUBEXP);)
    not actually part of ECMAScript 5.1
    for use until objects and functions are supported
  expressions
    assignment
    add and multiply
    identifier
    numeric literal (only partial support)
    parenthesized subexpressions
    string literal (only partial support)
  
The system's files are organized into three directories:

bin - contains bash scripts for building the system.

src - contains the source code for the system

      src/ts - main class for the translator
      src/ts/parse - parser
      src/ts/support - support classes for executing Tscript programs
      src/ts/tree - classes that define the AST (abstract syntax tree)
      src/ts/tree/type - classes to represent compile-time types
      src/ts/tree/visit - classes to traverse the AST (uses the visitor pattern)

scripts - contains templates for the scripts used to run the system

test - contains test programs for the system

To build and run the system:

  1. Copy the tar file containing the system to your account:

     cp -r ~cs712/public/tscript.tar .

  2. Un-tar the files:

     tar xvf tscript.tar

  3. Install and build the system:

     cd tscript/bin
     bash install.sh

     This will create a directory, tscript/build, to contain the files
     generated by the build.

     Once an install is done, then you can re-build the system by cd-ing
     to tscript/bin and then:

     bash build.sh

  4. While in tscript/bin, test the build by running the regression
     test suite:

     bash regression.sh

     If all is well, nothing should be printed.

     The regression script assumes Node.js is available as "node" in
     your path. Node can be downloaded from https://nodejs.org.

  5. You run the system by executing tscript/build/bin/ts. You
     can make a bash alias for this script, add its directory to your
     bash PATH, or even copy the script to where you want to use it.

     To execute a Tscript program:

       ts file.ts

     You must use the "ts" file extension for Tscript programs.

     You can run the system from within the Java debuggger (jdb):

       tsdb file.ts

     The ts script takes a few optional parameters followed by a single
     Tscript source file:

       -AST: dumps the AST to an HTML file (file.ts --> file.html).

       -java: write the generated Java code to a file (file.ts --> file.java).

       -noexec: do not execute the program.

       -log: display the internal translator log messages

     To compile the generated Java code with javac:

       jc file.java

     To run the class file produced from the generated Java code by javac:

       j file

     To use jdb to run the class file produced from the generated java code by
     javac:

       jdebug file

     Like the ts script, the tsdb, jc, j and jdebug scripts are all
     installed in tscript/build/bin/.

  6. The build procedure runs javadoc to generate HTML files to document
     the system. These files are rooted in tscript/build/html.

To debug the parser:

  1. Go to the src/ts/parse directory.

  2. To run the parser so that the stream of tokens is dumped to stdout:

     bash tokens.sh <file.ts

  3. To run the parser so that the parse tree is dumped to stdout:

     bash tree.sh <file.ts

  4. To run the parser so that the parse tree is displayed in a separate
     window:

     bash gui.sh <file.ts

  5. When done debugging, do "make clean" before rebuilding the system for
     normal execution.

